# 뷰를 이용한 화면 구성
- 안드로이드 앱
  - 컴포넌트 기반
    * **액티비티** -> 화면 출력
    * 서비스
    * 브로드캐스트 리시버
    * 콘텐츠 프로바이더

## 화면 구성
### 액티티 코드로 화면 구성하기
```kotlin
//MainActivity.kt
package com.example.view

import android.graphics.Typeface
import android.os.Bundle
import android.view.Gravity
import android.view.ViewGroup
import android.widget.ImageView
import android.widget.LinearLayout
import android.widget.TextView
import androidx.appcompat.app.AppCompatActivity
import androidx.core.content.ContextCompat

class MainActivity : AppCompatActivity(){
    override fun onCreate(savedInstanceState:Bundle?){
        super.onCreate(savedInstanceState)
        //이름 문자열 출력 TextView 생성
        val name=TextView(this).apply{
            typeface= Typeface.DEFAULT_BOLD
            text="Lake Louise"
        }
        //이미지 출력 ImageView 생성
        val image=ImageView(this).also{
            it.setImageDrawable(ContextCompat.getDrawable(this,R.drawable.lake_1))
        }
        //주소 문자열 출력 TextView 생성
        val address=TextView(this).apply {
            typeface=Typeface.DEFAULT_BOLD
            text="Lake Louise, AB, 캐나다"
        }
        val layout=LinearLayout(this).apply{
            orientation=LinearLayout.VERTICAL
            gravity= Gravity.CENTER
            //LinearLayout 객체에 TextView, ImageView, TextView 객체 추가
            addView(name, ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT)
            addView(image, ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT)
            addView(address,
                ViewGroup.LayoutParams.WRAP_CONTENT,
                ViewGroup.LayoutParams.WRAP_CONTENT
            )
        }
        //LinearLayout 객체를 화면에 출력
        setContentView(layout)
    }
}
```
<img width="213" alt="스크린샷 2023-09-16 오후 1 59 03" src="https://github.com/youkm1/Kotlin_ANS.Study/assets/89966409/1ef4ffde-db2b-4d30-a871-90bb24d6b1c7">

### 레이아웃 XML로 화면 구성하기
``` kotiln
//activity_main.xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:gravity="center">
    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textStyle="bold"
        android:text="Lake Louise" />
    <ImageView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:src="@drawable/lake_1" />
    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textStyle="bold"
        android:text="Lake Louise, AB, 캐나다" />
</LinearLayout>
```
```kotlin
//MainActivity.kt
class MainActivity : AppCompatActivity(){
    override fun onCreate(savedInstanceState:Bundle?){
        super.onCreate(savedInstanceState)
        //화면 출력 XML 명시
        setContentView(R.layout.activity_main)
    }
}
```
- 액티비티 코드를 사용했을 때와 동일한 결과가 나온다.
- 두 방법 모두 가능하지만 **XML**로 화면을 구현하는 게 더 효과적이다.
  - XML에서는 화면 구현
  - 액티비티에서는 네트워킹, 데이터 핸들링, 사용자 이벤트 처리
  - 분리하는 게 유지,보수 면에서 좋다.


 ## 뷰 클래스
 - View : 모든 뷰 클래스의 최상위 클래스. 액티비티는 View의 서브 클래스만 화면에 출력
 - ViewGroup : View의 하위 클래스. 자체 UI가 없어서 화면에 출력해도 아무것도 안 나옴. 다른 뷰 여러 개 묶어서 제어함. *컨테이너 기능*을 담당.
 - TextView : 특정 UI 출력을 목적으로함. 문자열 출력.
```kotlin
//activity_main.xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">
    //버튼 하나씩 아래로.
    <Button
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="BUTTON1" />
    <Button
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="BUTTON2"/>
    <LinearLayout  //가로로 버튼 두 개를 나란히 둠.
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal">
        <Button
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="BUTTON3"/>
        <Button
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="BUTTON4"/>
    </LinearLayout>
</LinearLayout>
```
<img width="288" alt="스크린샷 2023-09-16 오후 2 31 36" src="https://github.com/youkm1/Kotlin_ANS.Study/assets/89966409/f21f9f48-abca-4322-85f6-736cad0b731f">

### 뷰의 크기 지정
- 속성값
  - 수치
  - match_parent
  - wrap_content
- 기기의 크기가 다양하기 때문에 특정한 수치보다는 상대적인 수치를 사용하는 다른 두 개를 쓰는 게 더 좋다.
```kotlin
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:background="#ffff00">
    <Button
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="BUTTON1"
        android:backgroundTint="#0000ff"/>
    <Button
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="BUTTON2"
        android:backgroundTint="#ff0000"/>
</LinearLayout>
```
<img width="173" alt="스크린샷 2023-09-16 오후 2 45 33" src="https://github.com/youkm1/Kotlin_ANS.Study/assets/89966409/e433d04a-d75e-4ada-9201-a0b126aaeba9">

### 뷰의 간격 설정
- margin:뷰 사이의 간격
- padding:콘텐츠와 테두리 사이의 간격
- 간격이 네 방향 모두 같은 크기로 설정됨
- 특정한 한 방향의 간격만 설정하고싶다면
  - paddingLeft,paddingRight,paddingTop,paddingBottom
  - layout_marginLeft,layout_marginRight,layout_marginTop,layout_marginBottom
```kotlin
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal">
    <Button
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="BUTTON1"
        android:backgroundTint="#0000ff"
        android:padding="30dp"/>
    <Button
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="BUTTON2"
        android:backgroundTint="#ff0000"
        android:paddingBottom="50dp"
        android:layout_marginLeft="50dp"/>
</LinearLayout>
```
<img width="173" alt="스크린샷 2023-09-16 오후 2 49 38" src="https://github.com/youkm1/Kotlin_ANS.Study/assets/89966409/b047ab64-62c2-415d-8d6e-8c8c35091220">

### 뷰의 표시 여부 설정
- visibility:뷰가 화면에 출력돼야 하는지 설정
  - visible:기본값, 뷰가 화면에 출력됨
  - invisible:출력되지 않음, 자리 차지함
  - gone:출력되지 않음, 자리 차지하지 않음
```kotlin
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal">
    <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="vertical">
        <Button
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="BUTTON1" />
        <Button
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="BUTTON2" />
        <Button
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="BUTTON3" />
    </LinearLayout>
    <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="vertical">
        <Button
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="BUTTON1" />
        <Button
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="BUTTON2"
            android:visibility="invisible"/>
        <Button
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="BUTTON3" />
    </LinearLayout>
    <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="vertical">
        <Button
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="BUTTON1" />
        <Button
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="BUTTON2"
            android:visibility="gone"/>
        <Button
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="BUTTON3" />
    </LinearLayout>
</LinearLayout>
```
<img width="173" alt="스크린샷 2023-09-16 오후 2 56 17" src="https://github.com/youkm1/Kotlin_ANS.Study/assets/89966409/c83fb960-4312-410c-b9c2-5a1a559a0647">
- invisible 부분은 창이 없으나 자리는 있음
- gone 부분은 창도, 자리도 없음
- 이것들은 처음에는 화면에서 보이지 않다가, 어떤 순간이 되면 보이게 하려고 사용함.
- 코드에서는 뷰의 visibility 속성값을 **View.VISIBLE**, **View.INVISIBLE** 로 사용하면 됨

## 기본적인 뷰 살펴보기
### 텍스트 뷰
```kotlin
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">
    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="hellowworld"
        android:textColor="#ff0000"
        android:textSize="20sp"
        android:textStyle="bold"/>
    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="이지스퍼블리싱-웹페이지:http://easyspub.com, 전화번호:325-1722,이메일:easy@easyspub.co.kr"
        android:autoLink="web|email|phone"/>
    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="@string/long_text"
        android:singleLine="true"
        android:ellipsize="middle"/>
    <View
        android:layout_width="match_parent"
        android:layout_height="2dp"
        android:background="#000000"/>
    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="@string/long_text"
        android:maxLines="3"
        android:ellipsize="end"/>
</LinearLayout>
```
<img width="375" alt="스크린샷 2023-09-16 오후 3 13 22" src="https://github.com/youkm1/Kotlin_ANS.Study/assets/89966409/08e41bc8-d489-442d-bf7b-a21fab6214d4">
- text:answkduf eodlq or "@string/hello"처럼 문자열 리소스 지정

